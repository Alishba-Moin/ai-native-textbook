"use strict";(globalThis.webpackChunksrc=globalThis.webpackChunksrc||[]).push([[298],{4684:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"module-1-ros2/chapter-3-services-actions-parameters","title":"Chapter 3: Services, Actions, and Parameters","description":"Master request-response services, long-running actions, and runtime parameters to build sophisticated robotic behaviors","source":"@site/docs/module-1-ros2/chapter-3-services-actions-parameters.mdx","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/chapter-3-services-actions-parameters","permalink":"/ai-native-textbook/docs/module-1-ros2/chapter-3-services-actions-parameters","draft":false,"unlisted":false,"editUrl":"https://github.com/Alishba-Moin/ai-native-textbook/tree/main/docs/docs/module-1-ros2/chapter-3-services-actions-parameters.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Chapter 3: Services, Actions, and Parameters","description":"Master request-response services, long-running actions, and runtime parameters to build sophisticated robotic behaviors","keywords":["rclpy","services","actions","parameters","request-response","async","callbacks","AI integration"],"sidebar_position":3,"learning_objectives":["Implement service servers and clients for request-response communication","Create action servers and clients for long-running tasks with feedback","Apply parameters for runtime configuration of nodes","Design AI-ROS integration patterns separating decision logic from communication"],"prerequisites":["Chapter 2: ROS 2 Nodes and Topics","Python async/await basics","Object-oriented programming"],"estimated_time":120,"content_type":"tutorial","difficulty":"intermediate","ros2_distribution":"humble","chapter_number":3},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 2: ROS 2 Nodes and Topics","permalink":"/ai-native-textbook/docs/module-1-ros2/chapter-2-nodes-topics"},"next":{"title":"Chapter 4: URDF Robot Modeling","permalink":"/ai-native-textbook/docs/module-1-ros2/chapter-4-urdf-robot-modeling"}}');var i=r(4848),t=r(8453);const a={title:"Chapter 3: Services, Actions, and Parameters",description:"Master request-response services, long-running actions, and runtime parameters to build sophisticated robotic behaviors",keywords:["rclpy","services","actions","parameters","request-response","async","callbacks","AI integration"],sidebar_position:3,learning_objectives:["Implement service servers and clients for request-response communication","Create action servers and clients for long-running tasks with feedback","Apply parameters for runtime configuration of nodes","Design AI-ROS integration patterns separating decision logic from communication"],prerequisites:["Chapter 2: ROS 2 Nodes and Topics","Python async/await basics","Object-oriented programming"],estimated_time:120,content_type:"tutorial",difficulty:"intermediate",ros2_distribution:"humble",chapter_number:3},c="Chapter 3: Services, Actions, and Parameters",o={},l=[{value:"3.1 Services: Request-Response Communication",id:"31-services-request-response-communication",level:2},{value:"3.1.1 Service Definitions",id:"311-service-definitions",level:3},{value:"3.1.2 Creating a Service Server",id:"312-creating-a-service-server",level:3},{value:"3.1.3 Creating a Service Client",id:"313-creating-a-service-client",level:3},{value:"3.1.4 Service Communication Flow",id:"314-service-communication-flow",level:3},{value:"3.2 Actions: Long-Running Tasks with Feedback",id:"32-actions-long-running-tasks-with-feedback",level:2},{value:"3.2.1 Action Definitions",id:"321-action-definitions",level:3},{value:"3.2.2 Creating an Action Server",id:"322-creating-an-action-server",level:3},{value:"3.2.4 Action Communication Flow",id:"324-action-communication-flow",level:3},{value:"3.3 Parameters: Runtime Configuration",id:"33-parameters-runtime-configuration",level:2},{value:"3.3.1 Declaring and Using Parameters",id:"331-declaring-and-using-parameters",level:3},{value:"3.5 Hands-On Exercise: Implement a Calculator Service",id:"35-hands-on-exercise-implement-a-calculator-service",level:2},{value:"Problem Statement",id:"problem-statement",level:3},{value:"Requirements",id:"requirements",level:3},{value:"Testing",id:"testing",level:3},{value:"Deliverable",id:"deliverable",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"\u2713 Core Concepts Mastered",id:"-core-concepts-mastered",level:3},{value:"What&#39;s Next?",id:"whats-next",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"chapter-3-services-actions-and-parameters",children:"Chapter 3: Services, Actions, and Parameters"})}),"\n",(0,i.jsxs)(n.p,{children:["In Chapter 2, you learned about ",(0,i.jsx)(n.strong,{children:"topics"}),"\u2014the asynchronous, many-to-many communication pattern ideal for streaming sensor data. But not all robot communication fits the publish-subscribe model. What if you need:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"A one-time computation"})," (e.g., inverse kinematics for an arm)?\r\n\u2192 Use ",(0,i.jsx)(n.strong,{children:"services"})," (synchronous request-response)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"A long-running task with progress updates"})," (e.g., navigate to a waypoint)?\r\n\u2192 Use ",(0,i.jsx)(n.strong,{children:"actions"})," (asynchronous with feedback)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Configurable behavior"})," (e.g., adjust PID gains at runtime)?\r\n\u2192 Use ",(0,i.jsx)(n.strong,{children:"parameters"})," (dynamic configuration)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This chapter teaches you these advanced communication primitives and shows how to integrate ",(0,i.jsx)(n.strong,{children:"AI decision logic"})," with ROS 2 control systems."]}),"\n",(0,i.jsx)(n.h2,{id:"31-services-request-response-communication",children:"3.1 Services: Request-Response Communication"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"service"})," is a synchronous, one-to-one communication pattern:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Client"})," sends a ",(0,i.jsx)(n.strong,{children:"request"})," to a ",(0,i.jsx)(n.strong,{children:"server"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Server"})," processes the request and returns a ",(0,i.jsx)(n.strong,{children:"response"})]}),"\n",(0,i.jsxs)(n.li,{children:["Communication is ",(0,i.jsx)(n.strong,{children:"blocking"}),": client waits for the response (or times out)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Use services for:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Infrequent operations (trigger calibration, query robot state)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Computationally intensive tasks (path planning, inverse kinematics)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Configuration changes (reset odometry, switch modes)"}),"\n",(0,i.jsx)(n.li,{children:"\u274c High-frequency data streams (use topics)"}),"\n",(0,i.jsx)(n.li,{children:"\u274c Tasks taking > 1 second (use actions for feedback)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"311-service-definitions",children:"3.1.1 Service Definitions"}),"\n",(0,i.jsxs)(n.p,{children:["ROS 2 services use ",(0,i.jsx)(n.code,{children:".srv"})," files defining request and response types:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# example_interfaces/srv/AddTwoInts.srv\r\nint64 a\r\nint64 b\r\n---\r\nint64 sum\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"---"})," separator divides request (top) from response (bottom). Standard service types include:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"std_srvs/srv/Trigger"}),": No request data, bool response + message"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"std_srvs/srv/SetBool"}),": Bool request, bool response + message"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"example_interfaces/srv/AddTwoInts"}),": Two integers \u2192 sum"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"312-creating-a-service-server",children:"3.1.2 Creating a Service Server"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"service server"})," listens for requests and executes a callback function:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Service Server API:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"self.srv = self.create_service(\r\n    srv_type=AddTwoInts,           # Service type (from .srv file)\r\n    srv_name='add_two_ints',       # Service name (string)\r\n    callback=self.callback_function  # Function to handle requests\r\n)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Callback Signature:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"def callback(self, request, response):\r\n    # request: object with fields from request part of .srv\r\n    # response: object with fields from response part of .srv\r\n    response.field1 = compute_value()\r\n    return response  # MUST return response object\n"})}),"\n",(0,i.jsx)(n.h3,{id:"313-creating-a-service-client",children:"3.1.3 Creating a Service Client"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"service client"})," sends requests and waits for responses:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Service Client API:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# 1. Create client\r\nself.client = self.create_client(AddTwoInts, 'add_two_ints')\r\n\r\n# 2. Wait for service availability\r\nself.client.wait_for_service(timeout_sec=5.0)\r\n\r\n# 3. Create request object\r\nrequest = AddTwoInts.Request()\r\nrequest.a = 10\r\nrequest.b = 20\r\n\r\n# 4. Call service asynchronously\r\nfuture = self.client.call_async(request)\r\n\r\n# 5. Wait for response\r\nrclpy.spin_until_future_complete(node, future)\r\nresponse = future.result()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"314-service-communication-flow",children:"3.1.4 Service Communication Flow"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\r\n    participant Client as Service Client<br/>(AddTwoIntsClient)\r\n    participant Server as Service Server<br/>(AddTwoIntsServer)\r\n\r\n    Client->>Client: create_client()\r\n    Client->>Server: wait_for_service()\r\n    Note over Server: Server already running\r\n\r\n    Client->>Server: call_async(Request{a=5, b=3})\r\n    Note over Client: Non-blocking call,<br/>returns Future\r\n\r\n    activate Server\r\n    Server->>Server: add_two_ints_callback()\r\n    Server->>Server: Compute: 5 + 3 = 8\r\n    Server->>Client: Response{sum=8}\r\n    deactivate Server\r\n\r\n    Client->>Client: future.result() = 8\r\n    Note over Client: Blocking wait for Future\n"})}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 supports two service call patterns:"}),"\n",(0,i.jsx)(n.h2,{id:"32-actions-long-running-tasks-with-feedback",children:"3.2 Actions: Long-Running Tasks with Feedback"}),"\n",(0,i.jsxs)(n.p,{children:["Services are great for quick computations, but what about tasks that take seconds or minutes? ",(0,i.jsx)(n.strong,{children:"Actions"})," extend the service pattern with:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Feedback"}),": Server sends progress updates during execution"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cancellation"}),": Client can cancel the goal mid-execution"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Result"}),": Final outcome when task completes"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Use actions for tasks that:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Take > 1 second to complete (navigation, object manipulation)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Require progress updates (distance to goal, current phase)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Can be cancelled (stop navigation, abort grasp)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Have distinct success/failure outcomes"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Examples:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Navigate to waypoint (feedback: distance remaining)"}),"\n",(0,i.jsx)(n.li,{children:"Grasp object (feedback: gripper closure percentage)"}),"\n",(0,i.jsx)(n.li,{children:"Execute dance sequence (feedback: current pose index)"}),"\n",(0,i.jsx)(n.li,{children:"Train neural network (feedback: epoch, loss)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"321-action-definitions",children:"3.2.1 Action Definitions"}),"\n",(0,i.jsxs)(n.p,{children:["Actions use ",(0,i.jsx)(n.code,{children:".action"})," files with three parts:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# example_interfaces/action/Fibonacci.action\r\n# Goal\r\nint32 order\r\n---\r\n# Result\r\nint32[] sequence\r\n---\r\n# Feedback\r\nint32[] partial_sequence\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Three sections"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Goal"}),': What the client requests (e.g., "navigate to (x, y)")']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Result"}),': Final outcome (e.g., "reached goal" or "failed - obstacle")']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Feedback"}),': Periodic updates (e.g., "50% complete, 2.3m remaining")']}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"322-creating-an-action-server",children:"3.2.2 Creating an Action Server"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Action Server API:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"self._action_server = ActionServer(\r\n    node=self,                     # Parent node\r\n    action_type=Fibonacci,         # Action type\r\n    action_name='fibonacci',       # Action name\r\n    execute_callback=self.execute  # Callback function\r\n)\r\n\r\ndef execute_callback(self, goal_handle):\r\n    # 1. Access goal: goal_handle.request.field\r\n    order = goal_handle.request.order\r\n\r\n    # 2. Publish feedback periodically\r\n    feedback = Fibonacci.Feedback()\r\n    goal_handle.publish_feedback(feedback)\r\n\r\n    # 3. Check for cancellation\r\n    if goal_handle.is_cancel_requested:\r\n        goal_handle.canceled()\r\n        return Fibonacci.Result()\r\n\r\n    # 4. Mark as succeeded and return result\r\n    goal_handle.succeed()\r\n    result = Fibonacci.Result()\r\n    return result\n"})}),"\n",(0,i.jsx)(n.h3,{id:"324-action-communication-flow",children:"3.2.4 Action Communication Flow"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\r\n    participant Client as Action Client\r\n    participant Server as Action Server\r\n\r\n    Client->>Server: send_goal_async(Goal{order=10})\r\n    Server->>Client: Goal Accepted\r\n\r\n    loop Every computation step\r\n        Server->>Server: Compute next Fibonacci\r\n        Server->>Client: Feedback{partial_sequence}\r\n        Note over Client: feedback_callback()\r\n    end\r\n\r\n    alt Goal Succeeded\r\n        Server->>Client: Result{sequence=[0,1,1,2,3,5,...]}\r\n        Note over Client: get_result_callback()\r\n    else Goal Canceled\r\n        Client->>Server: cancel_goal()\r\n        Server->>Client: Result{} (empty)\r\n    end\n"})}),"\n",(0,i.jsx)(n.h2,{id:"33-parameters-runtime-configuration",children:"3.3 Parameters: Runtime Configuration"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parameters"})," allow you to configure node behavior at runtime without restarting the node."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parameters"})," are key-value pairs stored in each node:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Types: ",(0,i.jsx)(n.code,{children:"bool"}),", ",(0,i.jsx)(n.code,{children:"int"}),", ",(0,i.jsx)(n.code,{children:"float"}),", ",(0,i.jsx)(n.code,{children:"string"}),", ",(0,i.jsx)(n.code,{children:"byte_array"}),", ",(0,i.jsx)(n.code,{children:"bool_array"}),", ",(0,i.jsx)(n.code,{children:"int_array"}),", ",(0,i.jsx)(n.code,{children:"float_array"}),", ",(0,i.jsx)(n.code,{children:"string_array"})]}),"\n",(0,i.jsx)(n.li,{children:"Can be set via command line, launch files, or programmatically"}),"\n",(0,i.jsx)(n.li,{children:"Support dynamic updates with parameter callbacks"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Use cases:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Tunable constants (PID gains, thresholds, timeouts)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Mode switching (debug mode, simulation vs. hardware)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Resource paths (model files, config files)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"331-declaring-and-using-parameters",children:"3.3.1 Declaring and Using Parameters"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Setting Parameters at Launch:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Command line\r\nros2 run my_package parameter_node --ros-args \\\r\n  -p robot_name:=optimus \\\r\n  -p max_speed:=2.0 \\\r\n  -p debug_mode:=true\r\n\r\n# Inspect parameters\r\nros2 param list\r\nros2 param get /parameter_node robot_name\r\nros2 param set /parameter_node max_speed 3.0\n"})}),"\n",(0,i.jsx)(n.h2,{id:"35-hands-on-exercise-implement-a-calculator-service",children:"3.5 Hands-On Exercise: Implement a Calculator Service"}),"\n",(0,i.jsx)(n.h3,{id:"problem-statement",children:"Problem Statement"}),"\n",(0,i.jsx)(n.p,{children:"Create a calculator service that supports four operations: addition, subtraction, multiplication, and division."}),"\n",(0,i.jsx)(n.h3,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Service Definition"})," (",(0,i.jsx)(n.code,{children:"srv/Calculate.srv"}),"):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'float64 a\r\nfloat64 b\r\nstring operation  # "add", "subtract", "multiply", "divide"\r\n---\r\nfloat64 result\r\nbool success\r\nstring message\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Service Server"})," (",(0,i.jsx)(n.code,{children:"calculator_server.py"}),"):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Service name: ",(0,i.jsx)(n.code,{children:"/calculator"})]}),"\n",(0,i.jsx)(n.li,{children:"Support all four operations"}),"\n",(0,i.jsxs)(n.li,{children:["Return ",(0,i.jsx)(n.code,{children:"success=False"})," and error message for:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Division by zero"}),"\n",(0,i.jsx)(n.li,{children:"Invalid operation string"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Log each request and response"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Service Client"})," (",(0,i.jsx)(n.code,{children:"calculator_client.py"}),"):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Accept command-line arguments: ",(0,i.jsx)(n.code,{children:"a b operation"})]}),"\n",(0,i.jsx)(n.li,{children:"Call service and display result"}),"\n",(0,i.jsx)(n.li,{children:"Handle service call failures gracefully"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"testing",children:"Testing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Terminal 1: Run server\r\npython3 calculator_server.py\r\n\r\n# Terminal 2: Test with client\r\npython3 calculator_client.py 15.5 3.2 add\r\npython3 calculator_client.py 10 0 divide  # Should fail gracefully\r\n\r\n# Terminal 3: Test with CLI\r\nros2 service call /calculator my_package/srv/Calculate \\\r\n  \"{a: 100, b: 25, operation: 'subtract'}\"\n"})}),"\n",(0,i.jsx)(n.h3,{id:"deliverable",children:"Deliverable"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Three files: ",(0,i.jsx)(n.code,{children:"Calculate.srv"}),", ",(0,i.jsx)(n.code,{children:"calculator_server.py"}),", ",(0,i.jsx)(n.code,{children:"calculator_client.py"})]}),"\n",(0,i.jsx)(n.li,{children:"Screenshot showing successful addition and failed division by zero"}),"\n",(0,i.jsx)(n.li,{children:"Answer: How would you extend this to support exponentiation?"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,i.jsxs)("div",{className:"key-takeaways",children:[(0,i.jsx)(n.h3,{id:"-core-concepts-mastered",children:"\u2713 Core Concepts Mastered"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Services provide synchronous request-response communication"})," for infrequent operations like computations, triggers, and queries"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Actions extend services with feedback and cancellation"})," for long-running tasks (> 1 second) like navigation and manipulation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Action servers publish periodic feedback"})," during execution, allowing clients to monitor progress and cancel goals"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parameters enable runtime configuration"})," with dynamic updates through callbacks and validation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"AI-ROS integration follows separation of concerns"})," with pure Python AI logic wrapped in ROS nodes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Async service calls"})," (",(0,i.jsx)(n.code,{children:"call_async"}),") are preferred over blocking calls to prevent node deadlocks"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Real-time control requires < 100ms decision cycles"})," with profiling and optimization for AI inference latency"]}),"\n"]})]}),"\n",(0,i.jsx)(n.h2,{id:"whats-next",children:"What's Next?"}),"\n",(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.strong,{children:"Chapter 4: URDF Robot Modeling"}),", you'll learn to define robot structure:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"URDF syntax for links (rigid bodies) and joints (connections)"}),"\n",(0,i.jsx)(n.li,{children:"Visual and collision geometry for simulation"}),"\n",(0,i.jsx)(n.li,{children:"Kinematic chains for humanoid robots"}),"\n",(0,i.jsx)(n.li,{children:"RViz2 visualization with joint_state_publisher"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prerequisite Check"}),": Before proceeding, ensure you can:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Create a service server and client for a custom service type"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Explain when to use services vs. actions"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Implement parameter validation with callbacks"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Separate AI decision logic from ROS communication code"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next"}),": Chapter 4: URDF Robot Modeling (coming soon)"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>c});var s=r(6540);const i={},t=s.createContext(i);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);