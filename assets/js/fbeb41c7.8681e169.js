"use strict";(globalThis.webpackChunksrc=globalThis.webpackChunksrc||[]).push([[777],{4846:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"module-1-ros2/chapter-4-urdf-robot-modeling","title":"Chapter 4: URDF Robot Modeling","description":"Learn to define robot structure using URDF with links, joints, visual geometry, and kinematic chains for simulation and control","source":"@site/docs/module-1-ros2/chapter-4-urdf-robot-modeling.mdx","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/chapter-4-urdf-robot-modeling","permalink":"/ai-native-textbook/docs/module-1-ros2/chapter-4-urdf-robot-modeling","draft":false,"unlisted":false,"editUrl":"https://github.com/Alishba-Moin/ai-native-textbook/tree/main/docs/docs/module-1-ros2/chapter-4-urdf-robot-modeling.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Chapter 4: URDF Robot Modeling","description":"Learn to define robot structure using URDF with links, joints, visual geometry, and kinematic chains for simulation and control","keywords":["URDF","robot modeling","links","joints","RViz2","xacro","kinematic chains","humanoid robots"],"sidebar_position":4,"learning_objectives":["Create URDF files defining robot links, joints, and kinematic chains","Apply visual and collision geometry for robot visualization and physics","Design humanoid robot models with proper joint hierarchies and naming conventions","Evaluate URDF models using check_urdf and visualize in RViz2"],"prerequisites":["Chapter 3: Services, Actions, and Parameters","Basic XML syntax","3D coordinate systems"],"estimated_time":100,"content_type":"tutorial","difficulty":"intermediate","ros2_distribution":"humble","chapter_number":4},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 3: Services, Actions, and Parameters","permalink":"/ai-native-textbook/docs/module-1-ros2/chapter-3-services-actions-parameters"},"next":{"title":"Chapter 5: Launch Files and Package Management","permalink":"/ai-native-textbook/docs/module-1-ros2/chapter-5-launch-files-packages"}}');var r=n(4848),l=n(8453);const o={title:"Chapter 4: URDF Robot Modeling",description:"Learn to define robot structure using URDF with links, joints, visual geometry, and kinematic chains for simulation and control",keywords:["URDF","robot modeling","links","joints","RViz2","xacro","kinematic chains","humanoid robots"],sidebar_position:4,learning_objectives:["Create URDF files defining robot links, joints, and kinematic chains","Apply visual and collision geometry for robot visualization and physics","Design humanoid robot models with proper joint hierarchies and naming conventions","Evaluate URDF models using check_urdf and visualize in RViz2"],prerequisites:["Chapter 3: Services, Actions, and Parameters","Basic XML syntax","3D coordinate systems"],estimated_time:100,content_type:"tutorial",difficulty:"intermediate",ros2_distribution:"humble",chapter_number:4},t="Chapter 4: URDF Robot Modeling",d={},c=[{value:"4.1 What is URDF?",id:"41-what-is-urdf",level:2},{value:"4.1.1 URDF File Structure",id:"411-urdf-file-structure",level:3},{value:"4.2 Links: Rigid Body Parts",id:"42-links-rigid-body-parts",level:2},{value:"4.2.1 Visual Geometry",id:"421-visual-geometry",level:3},{value:"4.2.2 Collision Geometry",id:"422-collision-geometry",level:3},{value:"4.2.3 Inertial Properties",id:"423-inertial-properties",level:3},{value:"4.3 Joints: Connecting Links",id:"43-joints-connecting-links",level:2},{value:"4.3.1 Revolute Joint Example",id:"431-revolute-joint-example",level:3},{value:"4.4 Example: 2-DOF Robotic Arm",id:"44-example-2-dof-robotic-arm",level:2},{value:"4.5 Humanoid Robot URDF",id:"45-humanoid-robot-urdf",level:2},{value:"4.5.1 Humanoid Naming Conventions",id:"451-humanoid-naming-conventions",level:3},{value:"4.5.2 Simplified Humanoid URDF",id:"452-simplified-humanoid-urdf",level:3},{value:"4.6 Validating and Visualizing URDF",id:"46-validating-and-visualizing-urdf",level:2},{value:"4.6.1 URDF Validation",id:"461-urdf-validation",level:3},{value:"4.6.2 Visualizing in RViz2",id:"462-visualizing-in-rviz2",level:3},{value:"4.7 Xacro: Parameterized URDF",id:"47-xacro-parameterized-urdf",level:2},{value:"4.8 Hands-On Exercise: Build a Humanoid Torso",id:"48-hands-on-exercise-build-a-humanoid-torso",level:2},{value:"Problem Statement",id:"problem-statement",level:3},{value:"Requirements",id:"requirements",level:3},{value:"Testing",id:"testing",level:3},{value:"Deliverable",id:"deliverable",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"\u2713 Core Concepts Mastered",id:"-core-concepts-mastered",level:3},{value:"What&#39;s Next?",id:"whats-next",level:2}];function a(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"chapter-4-urdf-robot-modeling",children:"Chapter 4: URDF Robot Modeling"})}),"\n",(0,r.jsxs)(i.p,{children:["Before you can simulate or control a robot, you need to ",(0,r.jsx)(i.strong,{children:"describe"})," it\u2014its shape, mass, joints, sensors. In ROS 2, this is done with ",(0,r.jsx)(i.strong,{children:"URDF (Unified Robot Description Format)"}),", an XML-based language for defining robot structure."]}),"\n",(0,r.jsx)(i.p,{children:'Think of URDF as the "blueprint" for your robot. Just as an architect uses CAD drawings to specify building dimensions, you\'ll use URDF to specify:'}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Links"})," (rigid body parts: torso, arms, legs)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Joints"})," (connections between links: shoulder, elbow, knee)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Visual geometry"})," (how the robot looks in RViz2)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Collision geometry"})," (simplified shapes for physics simulation)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Inertial properties"})," (mass, center of mass, inertia tensors)"]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"By the end of this chapter, you'll build a URDF model of a simplified humanoid robot and visualize it in RViz2."}),"\n",(0,r.jsx)(i.h2,{id:"41-what-is-urdf",children:"4.1 What is URDF?"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"URDF"})," is an XML-based specification for robot models:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Links"}),": Rigid bodies (base, limbs, sensors)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Joints"}),": Connections between links (revolute, prismatic, fixed)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Visual"}),": 3D meshes or primitive shapes for rendering"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Collision"}),": Simplified geometry for collision detection"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Inertial"}),": Mass distribution for physics simulation"]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"URDF files are used by:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"RViz2"}),": 3D visualization tool"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Gazebo"}),": Physics-based simulation"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"MoveIt2"}),": Motion planning framework"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"robot_state_publisher"}),": Publishes TF transforms based on joint states"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"411-urdf-file-structure",children:"4.1.1 URDF File Structure"}),"\n",(0,r.jsxs)(i.p,{children:["Every URDF file starts with the ",(0,r.jsx)(i.code,{children:"<robot>"})," root element:"]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Key Rules"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Every robot has a ",(0,r.jsx)(i.strong,{children:"root link"})," (typically ",(0,r.jsx)(i.code,{children:"base_link"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["Links are connected by ",(0,r.jsx)(i.strong,{children:"joints"})," forming a ",(0,r.jsx)(i.strong,{children:"tree structure"})," (no loops)"]}),"\n",(0,r.jsx)(i.li,{children:"Joint names must be unique"}),"\n",(0,r.jsx)(i.li,{children:"Each joint has exactly one parent and one child link"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"42-links-rigid-body-parts",children:"4.2 Links: Rigid Body Parts"}),"\n",(0,r.jsxs)(i.p,{children:["A ",(0,r.jsx)(i.strong,{children:"link"})," represents a rigid body part of the robot. Each link can have:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Visual"}),": How it looks (rendered in RViz2)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Collision"}),": Simplified shape for collision detection"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Inertial"}),": Mass and inertia tensor for physics"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"421-visual-geometry",children:"4.2.1 Visual Geometry"}),"\n",(0,r.jsx)(i.p,{children:"Visual geometry defines how the link appears in visualization tools:"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Visual Elements"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.code,{children:"<origin>"})}),": Position (xyz in meters) and orientation (rpy in radians, roll-pitch-yaw)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.code,{children:"<geometry>"})}),": Shape definition","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:'<box size="x y z"/>'}),": Rectangular box"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:'<cylinder radius="r" length="l"/>'}),": Cylinder"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:'<sphere radius="r"/>'}),": Sphere"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:'<mesh filename="package://my_robot/meshes/torso.stl"/>'}),": 3D mesh file"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.code,{children:"<material>"})}),": Color (rgba: red, green, blue, alpha 0-1)"]}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["Each link has its own ",(0,r.jsx)(i.strong,{children:"coordinate frame"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Origin"})," is at the link's reference point (often center of mass or joint attachment)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"X-axis"}),": Forward (red in RViz2)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Y-axis"}),": Left (green in RViz2)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Z-axis"}),": Up (blue in RViz2)"]}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["Follow the ",(0,r.jsx)(i.strong,{children:"right-hand rule"}),": curl fingers from X to Y, thumb points to Z."]}),"\n",(0,r.jsx)(i.h3,{id:"422-collision-geometry",children:"4.2.2 Collision Geometry"}),"\n",(0,r.jsxs)(i.p,{children:["Collision geometry is used for physics simulation and path planning. Use ",(0,r.jsx)(i.strong,{children:"simpler shapes"})," than visual geometry for performance:"]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Best Practice"}),": Visual geometry can be detailed meshes, but collision geometry should use primitive shapes (box, cylinder, sphere) for computational efficiency."]}),"\n",(0,r.jsx)(i.h3,{id:"423-inertial-properties",children:"4.2.3 Inertial Properties"}),"\n",(0,r.jsx)(i.p,{children:"Inertial properties define mass distribution for physics simulation:"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Inertial Elements"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.code,{children:"<mass>"})}),": Mass in kilograms"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.code,{children:"<inertia>"})}),": 3x3 inertia tensor (kg\xb7m\xb2)","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Diagonal elements (ixx, iyy, izz): moments of inertia"}),"\n",(0,r.jsx)(i.li,{children:"Off-diagonal (ixy, ixz, iyz): products of inertia (often 0 for symmetric objects)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"For stable physics simulation, the inertia tensor must be:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Positive definite"}),": All eigenvalues > 0"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Physically realistic"}),": Approximate real-world mass distribution"]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"For simple shapes:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Box"})," (w, h, d): ",(0,r.jsx)(i.code,{children:"ixx = m(h\xb2+d\xb2)/12"}),", ",(0,r.jsx)(i.code,{children:"iyy = m(w\xb2+d\xb2)/12"}),", ",(0,r.jsx)(i.code,{children:"izz = m(w\xb2+h\xb2)/12"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Cylinder"})," (r, h): ",(0,r.jsx)(i.code,{children:"ixx = iyy = m(3r\xb2+h\xb2)/12"}),", ",(0,r.jsx)(i.code,{children:"izz = mr\xb2/2"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Sphere"})," (r): ",(0,r.jsx)(i.code,{children:"ixx = iyy = izz = 2mr\xb2/5"})]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"Tools like MeshLab can compute inertia from 3D meshes."}),"\n",(0,r.jsx)(i.h2,{id:"43-joints-connecting-links",children:"4.3 Joints: Connecting Links"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Joints"})," define how links move relative to each other. ROS 2 supports six joint types:"]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Joint Type"}),(0,r.jsx)(i.th,{children:"Description"}),(0,r.jsx)(i.th,{children:"Example"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"revolute"})}),(0,r.jsx)(i.td,{children:"Rotates around axis with limits"}),(0,r.jsx)(i.td,{children:"Elbow (0\xb0 to 150\xb0)"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"continuous"})}),(0,r.jsx)(i.td,{children:"Rotates 360\xb0 without limits"}),(0,r.jsx)(i.td,{children:"Wheel axle"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"prismatic"})}),(0,r.jsx)(i.td,{children:"Slides along axis with limits"}),(0,r.jsx)(i.td,{children:"Linear actuator"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"fixed"})}),(0,r.jsx)(i.td,{children:"No movement (rigid attachment)"}),(0,r.jsx)(i.td,{children:"Sensor mount"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"planar"})}),(0,r.jsx)(i.td,{children:"Moves in 2D plane"}),(0,r.jsx)(i.td,{children:"Omni-directional base"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"floating"})}),(0,r.jsx)(i.td,{children:"6-DOF free motion"}),(0,r.jsx)(i.td,{children:"Free-falling object"})]})]})]}),"\n",(0,r.jsx)(i.h3,{id:"431-revolute-joint-example",children:"4.3.1 Revolute Joint Example"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Joint Elements"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.code,{children:"<parent>"})})," and ",(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.code,{children:"<child>"})}),": Links being connected"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.code,{children:"<origin>"})}),": Where child link attaches to parent (xyz position, rpy orientation)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.code,{children:"<axis>"})}),": Rotation axis (unit vector in parent link frame)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.code,{children:"<limit>"})}),": Motion constraints (angles in radians for revolute, meters for prismatic)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.code,{children:"<dynamics>"})}),": Damping and friction for simulation"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"44-example-2-dof-robotic-arm",children:"4.4 Example: 2-DOF Robotic Arm"}),"\n",(0,r.jsx)(i.p,{children:"Let's build a simple 2-DOF arm with a base, upper arm, and forearm:"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Kinematic Chain"}),": ",(0,r.jsx)(i.code,{children:"base_link"})," \u2192 (shoulder_joint) \u2192 ",(0,r.jsx)(i.code,{children:"upper_arm"})," \u2192 (elbow_joint) \u2192 ",(0,r.jsx)(i.code,{children:"forearm"})]}),"\n",(0,r.jsx)(i.h2,{id:"45-humanoid-robot-urdf",children:"4.5 Humanoid Robot URDF"}),"\n",(0,r.jsx)(i.p,{children:"Humanoid robots require more complex kinematic trees with multiple branches for head, arms, and legs."}),"\n",(0,r.jsx)(i.h3,{id:"451-humanoid-naming-conventions",children:"4.5.1 Humanoid Naming Conventions"}),"\n",(0,r.jsx)(i.p,{children:"Follow REP-120 naming conventions for consistency:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Base"}),": ",(0,r.jsx)(i.code,{children:"base_link"})," (pelvis/hip center)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Head"}),": ",(0,r.jsx)(i.code,{children:"head_link"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Torso"}),": ",(0,r.jsx)(i.code,{children:"torso_link"}),", ",(0,r.jsx)(i.code,{children:"chest_link"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Arms"}),": ",(0,r.jsx)(i.code,{children:"left_upper_arm"}),", ",(0,r.jsx)(i.code,{children:"left_forearm"}),", ",(0,r.jsx)(i.code,{children:"left_hand"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Legs"}),": ",(0,r.jsx)(i.code,{children:"left_thigh"}),", ",(0,r.jsx)(i.code,{children:"left_shin"}),", ",(0,r.jsx)(i.code,{children:"left_foot"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Fingers"}),": ",(0,r.jsx)(i.code,{children:"left_thumb_proximal"}),", ",(0,r.jsx)(i.code,{children:"left_index_distal"})]}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Prefix convention"}),": ",(0,r.jsx)(i.code,{children:"left_"})," / ",(0,r.jsx)(i.code,{children:"right_"})," for bilateral symmetry"]}),"\n",(0,r.jsx)(i.h3,{id:"452-simplified-humanoid-urdf",children:"4.5.2 Simplified Humanoid URDF"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Kinematic Tree Structure"}),":"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"base_link (pelvis)\r\n\u251c\u2500\u2500 torso\r\n\u2502   \u251c\u2500\u2500 head\r\n\u2502   \u251c\u2500\u2500 left_upper_arm \u2192 left_forearm\r\n\u2502   \u2514\u2500\u2500 right_upper_arm \u2192 right_forearm (TODO)\r\n\u251c\u2500\u2500 left_thigh \u2192 left_shin\r\n\u2514\u2500\u2500 right_thigh \u2192 right_shin (TODO)\n"})}),"\n",(0,r.jsx)(i.h2,{id:"46-validating-and-visualizing-urdf",children:"4.6 Validating and Visualizing URDF"}),"\n",(0,r.jsx)(i.h3,{id:"461-urdf-validation",children:"4.6.1 URDF Validation"}),"\n",(0,r.jsxs)(i.p,{children:["Use ",(0,r.jsx)(i.code,{children:"check_urdf"})," to validate syntax and structure:"]}),"\n",(0,r.jsx)(i.p,{children:"Common errors:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Not a tree"}),": Loops in kinematic chain (each link can only have one parent)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Missing parent/child"}),": Joint references non-existent link"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Invalid inertia"}),": Non-positive-definite inertia tensor"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"462-visualizing-in-rviz2",children:"4.6.2 Visualizing in RViz2"}),"\n",(0,r.jsx)(i.p,{children:"If your robot doesn't appear in RViz2:"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Check Fixed Frame"}),': Set to "base_link" in Global Options']}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Add RobotModel display"}),': Click "Add" \u2192 "RobotModel"']}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Verify TF"}),': Add "TF" display to see coordinate frames']}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Check topic"}),": RobotModel should subscribe to ",(0,r.jsx)(i.code,{children:"/robot_description"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Inspect logs"}),": Look for URDF parsing errors in terminal"]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"Common visual issues:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Gray robot"}),": Material colors not rendering (check RViz2 settings)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Twisted geometry"}),": Incorrect ",(0,r.jsx)(i.code,{children:"<origin rpy>"})," values in visual elements"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Missing links"}),": Joint origin places child far from parent"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"47-xacro-parameterized-urdf",children:"4.7 Xacro: Parameterized URDF"}),"\n",(0,r.jsxs)(i.p,{children:["For complex robots, writing raw URDF becomes tedious (copy-pasting left/right arms). ",(0,r.jsx)(i.strong,{children:"Xacro"})," (XML Macros) adds:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Constants"}),": Define reusable values"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Macros"}),": Template functions for repeated structures"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Math"}),": Compute values (e.g., ",(0,r.jsx)(i.code,{children:"${'${pi/2}'}"}),")"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"48-hands-on-exercise-build-a-humanoid-torso",children:"4.8 Hands-On Exercise: Build a Humanoid Torso"}),"\n",(0,r.jsx)(i.h3,{id:"problem-statement",children:"Problem Statement"}),"\n",(0,r.jsx)(i.p,{children:"Build a URDF model of a humanoid upper body with:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Base link"})," (pelvis)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Torso"})," (fixed to base)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Head"})," (revolute neck joint, \xb190\xb0 yaw rotation)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Left arm"}),": upper arm + forearm (2 links, 2 revolute joints)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Right arm"}),": upper arm + forearm (2 links, 2 revolute joints)"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Minimum Links"}),": 6 (base, torso, head, left_upper_arm, left_forearm, right_upper_arm, right_forearm)"]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Minimum Joints"}),": 5"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"hip_joint (fixed): base \u2192 torso"}),"\n",(0,r.jsx)(i.li,{children:"neck_joint (revolute, yaw): torso \u2192 head (\xb190\xb0)"}),"\n",(0,r.jsx)(i.li,{children:"left_shoulder (revolute, pitch): torso \u2192 left_upper_arm (\xb1180\xb0)"}),"\n",(0,r.jsx)(i.li,{children:"left_elbow (revolute, pitch): left_upper_arm \u2192 left_forearm (0\xb0 to 160\xb0)"}),"\n",(0,r.jsx)(i.li,{children:"(Mirror for right arm)"}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Geometry"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Use primitive shapes (box, cylinder, sphere)"}),"\n",(0,r.jsx)(i.li,{children:"Torso: 0.25m \xd7 0.2m \xd7 0.5m box"}),"\n",(0,r.jsx)(i.li,{children:"Head: 0.1m radius sphere"}),"\n",(0,r.jsx)(i.li,{children:"Arms: 0.03m radius cylinders, 0.3m length"}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Materials"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Assign colors (torso: blue, head: skin tone, arms: gray)"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"testing",children:"Testing"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"# Validate URDF\r\ncheck_urdf humanoid_upper_body.urdf\r\n\r\n# Visualize in RViz2\r\nros2 launch urdf_tutorial display.launch.py model:=humanoid_upper_body.urdf\r\n\r\n# Verify:\r\n# 1. All 6 links visible\r\n# 2. Joint sliders control arm movement\r\n# 3. TF frames show proper hierarchy\n"})}),"\n",(0,r.jsx)(i.h3,{id:"deliverable",children:"Deliverable"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["URDF file: ",(0,r.jsx)(i.code,{children:"humanoid_upper_body.urdf"})]}),"\n",(0,r.jsx)(i.li,{children:"Screenshot from RViz2 showing robot with arms in different positions"}),"\n",(0,r.jsxs)(i.li,{children:["Output from ",(0,r.jsx)(i.code,{children:"check_urdf"})," showing successful validation"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,r.jsxs)("div",{className:"key-takeaways",children:[(0,r.jsx)(i.h3,{id:"-core-concepts-mastered",children:"\u2713 Core Concepts Mastered"}),(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"URDF is an XML-based robot description format"})," defining links (rigid bodies), joints (connections), and properties (visual, collision, inertial)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Links contain visual geometry for rendering"}),", collision geometry for physics, and inertial properties (mass, inertia tensor) for simulation"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Joints connect links in a tree structure"})," with six types: revolute (limited rotation), continuous (unlimited rotation), prismatic (linear), fixed, planar, floating"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Humanoid robots follow naming conventions"})," (base_link, left_upper_arm, right_thigh) from REP-120 for consistency"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Kinematic chains define motion hierarchies"})," with joints enabling degrees of freedom (DOF) for humanoid movement"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"check_urdf validates URDF syntax and structure"})," catching errors like loops, missing links, and invalid inertia tensors"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"RViz2 + robot_state_publisher visualize URDF models"})," with joint_state_publisher_gui providing interactive control"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Xacro extends URDF with macros and parameters"})," enabling reusable templates for symmetric structures (left/right arms)"]}),"\n"]})]}),"\n",(0,r.jsx)(i.h2,{id:"whats-next",children:"What's Next?"}),"\n",(0,r.jsxs)(i.p,{children:["In ",(0,r.jsx)(i.strong,{children:"Chapter 5: Launch Files and Package Management"}),", you'll learn to:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Create Python launch files for multi-node systems"}),"\n",(0,r.jsx)(i.li,{children:"Structure ROS 2 packages with proper dependencies"}),"\n",(0,r.jsx)(i.li,{children:"Pass parameters and configure nodes via launch files"}),"\n",(0,r.jsx)(i.li,{children:"Build packages with colcon and distribute them"}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Prerequisite Check"}),": Before proceeding, ensure you can:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"\u2705 Create a URDF file with links, joints, and visual geometry"}),"\n",(0,r.jsx)(i.li,{children:"\u2705 Explain the difference between visual and collision geometry"}),"\n",(0,r.jsx)(i.li,{children:"\u2705 Calculate inertia tensors for primitive shapes (box, cylinder, sphere)"}),"\n",(0,r.jsx)(i.li,{children:"\u2705 Validate URDF with check_urdf and visualize in RViz2"}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Next"}),": Chapter 5: Launch Files and Package Management (coming soon)"]})]})}function h(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>t});var s=n(6540);const r={},l=s.createContext(r);function o(e){const i=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(l.Provider,{value:i},e.children)}}}]);