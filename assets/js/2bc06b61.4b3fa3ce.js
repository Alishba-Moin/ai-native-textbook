"use strict";(globalThis.webpackChunksrc=globalThis.webpackChunksrc||[]).push([[985],{67:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"module-1-ros2/chapter-5-launch-files-packages","title":"Chapter 5: Launch Files and Package Management","description":"Master ROS 2 package structure, Python launch files, and colcon build system to deploy multi-node robotic applications","source":"@site/docs/module-1-ros2/chapter-5-launch-files-packages.mdx","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/chapter-5-launch-files-packages","permalink":"/ai-native-textbook/docs/module-1-ros2/chapter-5-launch-files-packages","draft":false,"unlisted":false,"editUrl":"https://github.com/Alishba-Moin/ai-native-textbook/tree/main/docs/docs/module-1-ros2/chapter-5-launch-files-packages.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Chapter 5: Launch Files and Package Management","description":"Master ROS 2 package structure, Python launch files, and colcon build system to deploy multi-node robotic applications","keywords":["launch files","packages","colcon","package.xml","setup.py","workspace","ros2 launch"],"sidebar_position":5,"learning_objectives":["Create Python launch files to manage multi-node systems with parameters and remapping","Build ROS 2 packages with proper directory structure and dependency management","Apply colcon build system to compile and install packages in workspaces","Design reusable packages following ROS 2 conventions and best practices"],"prerequisites":["Chapter 4: URDF Robot Modeling","Python packaging basics","Command-line workspace navigation"],"estimated_time":90,"content_type":"tutorial","difficulty":"intermediate","ros2_distribution":"humble","chapter_number":5},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 4: URDF Robot Modeling","permalink":"/ai-native-textbook/docs/module-1-ros2/chapter-4-urdf-robot-modeling"},"next":{"title":"Module 2: Digital Twin","permalink":"/ai-native-textbook/docs/module-2-digital-twin/"}}');var a=s(4848),r=s(8453);const t={title:"Chapter 5: Launch Files and Package Management",description:"Master ROS 2 package structure, Python launch files, and colcon build system to deploy multi-node robotic applications",keywords:["launch files","packages","colcon","package.xml","setup.py","workspace","ros2 launch"],sidebar_position:5,learning_objectives:["Create Python launch files to manage multi-node systems with parameters and remapping","Build ROS 2 packages with proper directory structure and dependency management","Apply colcon build system to compile and install packages in workspaces","Design reusable packages following ROS 2 conventions and best practices"],prerequisites:["Chapter 4: URDF Robot Modeling","Python packaging basics","Command-line workspace navigation"],estimated_time:90,content_type:"tutorial",difficulty:"intermediate",ros2_distribution:"humble",chapter_number:5},l="Chapter 5: Launch Files and Package Management",o={},c=[{value:"5.1 Launch Files: Managing Multi-Node Systems",id:"51-launch-files-managing-multi-node-systems",level:2},{value:"5.1.1 Basic Python Launch File",id:"511-basic-python-launch-file",level:3},{value:"5.1.2 Passing Parameters via Launch Files",id:"512-passing-parameters-via-launch-files",level:3},{value:"5.1.3 Topic and Service Remapping",id:"513-topic-and-service-remapping",level:3},{value:"5.3.3 Dependency Management with rosdep",id:"533-dependency-management-with-rosdep",level:3},{value:"5.4 Complete Package Example",id:"54-complete-package-example",level:2},{value:"5.5 Hands-On Exercise: Complete ROS 2 Package",id:"55-hands-on-exercise-complete-ros-2-package",level:2},{value:"Problem Statement",id:"problem-statement",level:3},{value:"Requirements",id:"requirements",level:3},{value:"Testing",id:"testing",level:3},{value:"Deliverable",id:"deliverable",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"\u2713 Core Concepts Mastered",id:"-core-concepts-mastered",level:3},{value:"Module 1 Complete! \ud83c\udf89",id:"module-1-complete-",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"chapter-5-launch-files-and-package-management",children:"Chapter 5: Launch Files and Package Management"})}),"\n",(0,a.jsx)(n.p,{children:"You've learned to create nodes, communicate via topics/services/actions, and model robots in URDF. But how do you launch 10+ nodes at once? How do you organize code into reusable, distributable packages?"}),"\n",(0,a.jsxs)(n.p,{children:["This final chapter teaches you ",(0,a.jsx)(n.strong,{children:"professional ROS 2 development workflows"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Launch files"})," to start multi-node systems with one command"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Package structure"})," for organizing code, dependencies, and resources"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"colcon build system"})," for compiling and installing packages"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Best practices"})," for maintainable, shareable robot software"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"By the end, you'll have a complete ROS 2 package ready for deployment and distribution."}),"\n",(0,a.jsx)(n.h2,{id:"51-launch-files-managing-multi-node-systems",children:"5.1 Launch Files: Managing Multi-Node Systems"}),"\n",(0,a.jsxs)(n.p,{children:["A ",(0,a.jsx)(n.strong,{children:"launch file"})," is a Python script that:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Starts multiple nodes with one ",(0,a.jsx)(n.code,{children:"ros2 launch"})," command"]}),"\n",(0,a.jsx)(n.li,{children:"Passes parameters to nodes at startup"}),"\n",(0,a.jsx)(n.li,{children:"Remaps topics/services for integration"}),"\n",(0,a.jsx)(n.li,{children:"Conditionally launches nodes based on arguments"}),"\n",(0,a.jsx)(n.li,{children:"Configures logging and execution order"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Think of it as an orchestration script for your robotic system\u2014instead of manually running 8 terminal windows, run one launch command."}),"\n",(0,a.jsx)(n.h3,{id:"511-basic-python-launch-file",children:"5.1.1 Basic Python Launch File"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Running the launch file:"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Key Components"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"package"})}),": ROS 2 package containing the executable"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"executable"})}),": Name of the Python script or binary (from setup.py entry_points)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"name"})}),": Node name (overrides the name set in Node() constructor)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"output"})}),": Where to send logs (",(0,a.jsx)(n.code,{children:"'screen'"})," or ",(0,a.jsx)(n.code,{children:"'log'"}),")"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"512-passing-parameters-via-launch-files",children:"5.1.2 Passing Parameters via Launch Files"}),"\n",(0,a.jsx)(n.p,{children:"Parameters can also be loaded from YAML files:"}),"\n",(0,a.jsx)(n.h1,{id:"get-path-to-config-file",children:"Get path to config file"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"YAML parameter file"})," (",(0,a.jsx)(n.code,{children:"config/robot_params.yaml"}),"):"]}),"\n",(0,a.jsx)(n.h3,{id:"513-topic-and-service-remapping",children:"5.1.3 Topic and Service Remapping"}),"\n",(0,a.jsx)(n.p,{children:"Remapping allows you to connect nodes without modifying code:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Why Remapping?"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u2705 Integrate third-party packages without code changes"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Run multiple instances of same node with different topics"}),"\n",(0,a.jsxs)(n.li,{children:["\u2705 Create clear topic hierarchies (",(0,a.jsx)(n.code,{children:"/robot/sensors/camera1"}),")"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"533-dependency-management-with-rosdep",children:"5.3.3 Dependency Management with rosdep"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"rosdep"})," installs package dependencies automatically:"]}),"\n",(0,a.jsx)(n.h2,{id:"54-complete-package-example",children:"5.4 Complete Package Example"}),"\n",(0,a.jsx)(n.p,{children:"Let's create a full package with multiple nodes, launch files, and configuration."}),"\n",(0,a.jsx)(n.h2,{id:"55-hands-on-exercise-complete-ros-2-package",children:"5.5 Hands-On Exercise: Complete ROS 2 Package"}),"\n",(0,a.jsx)(n.h3,{id:"problem-statement",children:"Problem Statement"}),"\n",(0,a.jsx)(n.p,{children:"Create a complete ROS 2 package for a robot monitoring system with:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Sensor node"}),": Publishes simulated battery, temperature, and CPU metrics"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Aggregator node"}),": Subscribes to all sensors, computes statistics"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Alert node"}),": Triggers warnings when metrics exceed thresholds"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"requirements",children:"Requirements"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Package Structure"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"robot_health_monitor/\r\n\u251c\u2500\u2500 package.xml (dependencies: rclpy, std_msgs, diagnostic_msgs)\r\n\u251c\u2500\u2500 setup.py (3 entry points)\r\n\u251c\u2500\u2500 robot_health_monitor/\r\n\u2502   \u251c\u2500\u2500 battery_sensor.py\r\n\u2502   \u251c\u2500\u2500 aggregator.py\r\n\u2502   \u2514\u2500\u2500 alert_system.py\r\n\u251c\u2500\u2500 launch/\r\n\u2502   \u2514\u2500\u2500 health_monitor.launch.py\r\n\u251c\u2500\u2500 config/\r\n\u2502   \u2514\u2500\u2500 thresholds.yaml\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Node Specifications"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"battery_sensor"}),": Publish Float32 to ",(0,a.jsx)(n.code,{children:"/battery_level"})," (0-100%) at 1 Hz"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"aggregator"}),": Subscribe to ",(0,a.jsx)(n.code,{children:"/battery_level"}),", ",(0,a.jsx)(n.code,{children:"/temperature"}),", ",(0,a.jsx)(n.code,{children:"/cpu_usage"}),", publish average to ",(0,a.jsx)(n.code,{children:"/system_health"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"alert_system"}),": Subscribe to metrics, log WARN if battery < 20%, temperature > 80\xb0C"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Launch File"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Start all 3 nodes"}),"\n",(0,a.jsxs)(n.li,{children:["Load ",(0,a.jsx)(n.code,{children:"thresholds.yaml"})," for alert_system"]}),"\n",(0,a.jsxs)(n.li,{children:["Accept ",(0,a.jsx)(n.code,{children:"log_level"})," argument (default: INFO)"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"testing",children:"Testing"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Build\r\ncolcon build --packages-select robot_health_monitor\r\nsource install/setup.bash\r\n\r\n# Launch system\r\nros2 launch robot_health_monitor health_monitor.launch.py\r\n\r\n# Verify topics\r\nros2 topic list  # Should show /battery_level, /system_health, etc.\r\nros2 topic hz /battery_level  # Should show ~1 Hz\r\n\r\n# Check alerts appear when battery drops below 20%\n"})}),"\n",(0,a.jsx)(n.h3,{id:"deliverable",children:"Deliverable"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Complete package with all files"}),"\n",(0,a.jsxs)(n.li,{children:["Screenshot of ",(0,a.jsx)(n.code,{children:"colcon build"})," success"]}),"\n",(0,a.jsx)(n.li,{children:"Screenshot of all 3 nodes running via launch file with visible log output"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,a.jsxs)("div",{className:"key-takeaways",children:[(0,a.jsx)(n.h3,{id:"-core-concepts-mastered",children:"\u2713 Core Concepts Mastered"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Launch files orchestrate multi-node systems"})," using Python syntax with Node(), parameters, remapping, and arguments"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Python packages follow standard structure"})," with package.xml (dependencies), setup.py (entry points), and organized directories (launch, config, urdf)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"colcon builds ROS 2 workspaces"})," compiling packages and creating install spaces that extend the ROS 2 underlay"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"rosdep installs package dependencies"})," automatically from package.xml declarations"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Overlay workspaces extend underlays"})," allowing custom packages to override system packages when sourced"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Launch arguments enable configuration"})," through DeclareLaunchArgument and LaunchConfiguration for runtime flexibility"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Best practices separate code and configuration"})," using YAML files, modular launch includes, and proper dependency declarations"]}),"\n"]})]}),"\n",(0,a.jsx)(n.h2,{id:"module-1-complete-",children:"Module 1 Complete! \ud83c\udf89"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Congratulations!"})," You've completed Module 1: The Robotic Nervous System (ROS 2)."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"What You've Learned"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Chapter 1"}),": ROS 2 architecture, computational graphs, DDS middleware"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Chapter 2"}),": Publishers, subscribers, topics, QoS policies"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Chapter 3"}),": Services, actions, parameters, AI-ROS integration"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Chapter 4"}),": URDF robot modeling, links, joints, RViz2 visualization"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Chapter 5"}),": Launch files, packages, colcon build system"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Total Time"}),": ~475 minutes (7.9 hours)"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Next Steps"}),":"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Review"}),": Revisit key takeaways from each chapter"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Practice"}),": Complete any unfinished exercises"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Module 2 Preview"}),": Digital Twin and Gazebo Simulation (Weeks 6-7)"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Assessment"}),": Before continuing, ensure you can:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u2705 Create a ROS 2 package with multiple nodes"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Write launch files with parameters and remapping"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Build and deploy packages using colcon"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Debug multi-node systems using ROS 2 CLI tools"}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Next Module"}),": Module 2: Digital Twin Simulation (coming soon)"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var i=s(6540);const a={},r=i.createContext(a);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);