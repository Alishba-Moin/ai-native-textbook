---
title: "Chapter 5: Launch Files and Package Management"
description: "Master ROS 2 package structure, Python launch files, and colcon build system to deploy multi-node robotic applications"
keywords: ["launch files", "packages", "colcon", "package.xml", "setup.py", "workspace", "ros2 launch"]
sidebar_position: 5
learning_objectives:
  - "Create Python launch files to manage multi-node systems with parameters and remapping"
  - "Build ROS 2 packages with proper directory structure and dependency management"
  - "Apply colcon build system to compile and install packages in workspaces"
  - "Design reusable packages following ROS 2 conventions and best practices"
prerequisites: ["Chapter 4: URDF Robot Modeling", "Python packaging basics", "Command-line workspace navigation"]
estimated_time: 90
content_type: "tutorial"
difficulty: "intermediate"
ros2_distribution: "humble"
chapter_number: 5
---

# Chapter 5: Launch Files and Package Management

You've learned to create nodes, communicate via topics/services/actions, and model robots in URDF. But how do you launch 10+ nodes at once? How do you organize code into reusable, distributable packages?

This final chapter teaches you **professional ROS 2 development workflows**:
- **Launch files** to start multi-node systems with one command
- **Package structure** for organizing code, dependencies, and resources
- **colcon build system** for compiling and installing packages
- **Best practices** for maintainable, shareable robot software

By the end, you'll have a complete ROS 2 package ready for deployment and distribution.

## 5.1 Launch Files: Managing Multi-Node Systems

A **launch file** is a Python script that:
- Starts multiple nodes with one `ros2 launch` command
- Passes parameters to nodes at startup
- Remaps topics/services for integration
- Conditionally launches nodes based on arguments
- Configures logging and execution order

Think of it as an orchestration script for your robotic systemâ€”instead of manually running 8 terminal windows, run one launch command.


### 5.1.1 Basic Python Launch File
**Running the launch file:**


**Key Components**:
- **`package`**: ROS 2 package containing the executable
- **`executable`**: Name of the Python script or binary (from setup.py entry_points)
- **`name`**: Node name (overrides the name set in Node() constructor)
- **`output`**: Where to send logs (`'screen'` or `'log'`)

### 5.1.2 Passing Parameters via Launch Files


Parameters can also be loaded from YAML files:
    # Get path to config file

**YAML parameter file** (`config/robot_params.yaml`):



### 5.1.3 Topic and Service Remapping

Remapping allows you to connect nodes without modifying code:


**Why Remapping?**
- âœ… Integrate third-party packages without code changes
- âœ… Run multiple instances of same node with different topics
- âœ… Create clear topic hierarchies (`/robot/sensors/camera1`)



### 5.3.3 Dependency Management with rosdep

**rosdep** installs package dependencies automatically:


## 5.4 Complete Package Example

Let's create a full package with multiple nodes, launch files, and configuration.


## 5.5 Hands-On Exercise: Complete ROS 2 Package


### Problem Statement

Create a complete ROS 2 package for a robot monitoring system with:
1. **Sensor node**: Publishes simulated battery, temperature, and CPU metrics
2. **Aggregator node**: Subscribes to all sensors, computes statistics
3. **Alert node**: Triggers warnings when metrics exceed thresholds

### Requirements

**Package Structure**:
```
robot_health_monitor/
â”œâ”€â”€ package.xml (dependencies: rclpy, std_msgs, diagnostic_msgs)
â”œâ”€â”€ setup.py (3 entry points)
â”œâ”€â”€ robot_health_monitor/
â”‚   â”œâ”€â”€ battery_sensor.py
â”‚   â”œâ”€â”€ aggregator.py
â”‚   â””â”€â”€ alert_system.py
â”œâ”€â”€ launch/
â”‚   â””â”€â”€ health_monitor.launch.py
â”œâ”€â”€ config/
â”‚   â””â”€â”€ thresholds.yaml
```

**Node Specifications**:
- `battery_sensor`: Publish Float32 to `/battery_level` (0-100%) at 1 Hz
- `aggregator`: Subscribe to `/battery_level`, `/temperature`, `/cpu_usage`, publish average to `/system_health`
- `alert_system`: Subscribe to metrics, log WARN if battery < 20%, temperature > 80Â°C

**Launch File**:
- Start all 3 nodes
- Load `thresholds.yaml` for alert_system
- Accept `log_level` argument (default: INFO)

### Testing

```bash
# Build
colcon build --packages-select robot_health_monitor
source install/setup.bash

# Launch system
ros2 launch robot_health_monitor health_monitor.launch.py

# Verify topics
ros2 topic list  # Should show /battery_level, /system_health, etc.
ros2 topic hz /battery_level  # Should show ~1 Hz

# Check alerts appear when battery drops below 20%
```

### Deliverable

1. Complete package with all files
2. Screenshot of `colcon build` success
3. Screenshot of all 3 nodes running via launch file with visible log output


## Key Takeaways

<div className="key-takeaways">

### âœ“ Core Concepts Mastered

- **Launch files orchestrate multi-node systems** using Python syntax with Node(), parameters, remapping, and arguments
- **Python packages follow standard structure** with package.xml (dependencies), setup.py (entry points), and organized directories (launch, config, urdf)
- **colcon builds ROS 2 workspaces** compiling packages and creating install spaces that extend the ROS 2 underlay
- **rosdep installs package dependencies** automatically from package.xml declarations
- **Overlay workspaces extend underlays** allowing custom packages to override system packages when sourced
- **Launch arguments enable configuration** through DeclareLaunchArgument and LaunchConfiguration for runtime flexibility
- **Best practices separate code and configuration** using YAML files, modular launch includes, and proper dependency declarations

</div>

## Module 1 Complete! ðŸŽ‰

**Congratulations!** You've completed Module 1: The Robotic Nervous System (ROS 2).

**What You've Learned**:
- **Chapter 1**: ROS 2 architecture, computational graphs, DDS middleware
- **Chapter 2**: Publishers, subscribers, topics, QoS policies
- **Chapter 3**: Services, actions, parameters, AI-ROS integration
- **Chapter 4**: URDF robot modeling, links, joints, RViz2 visualization
- **Chapter 5**: Launch files, packages, colcon build system

**Total Time**: ~475 minutes (7.9 hours)

**Next Steps**:
1. **Review**: Revisit key takeaways from each chapter
2. **Practice**: Complete any unfinished exercises
3. **Module 2 Preview**: Digital Twin and Gazebo Simulation (Weeks 6-7)

**Assessment**: Before continuing, ensure you can:
- âœ… Create a ROS 2 package with multiple nodes
- âœ… Write launch files with parameters and remapping
- âœ… Build and deploy packages using colcon
- âœ… Debug multi-node systems using ROS 2 CLI tools

---

**Next Module**: Module 2: Digital Twin Simulation (coming soon)